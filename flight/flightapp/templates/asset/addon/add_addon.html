{% extends "master.html" %}
{% block content %}
<div class="max-w-lg mx-auto bg-white shadow-lg rounded-lg p-6">
    <h2 class="text-2xl font-bold mb-6">Add Add-On</h2>

    <form method="post" class="space-y-4">
        {% csrf_token %}

        <!-- Airline Selection -->
        <div>
            <label class="block font-semibold mb-1">Airline:</label>
            <select name="airline" class="w-full border border-gray-300 rounded px-3 py-2" required>
                <option value="">Select Airline</option>
                {% for airline in airlines %}
                <option value="{{ airline.id }}">{{ airline.code }} - {{ airline.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Seat Class Selection -->
        <div>
            <label class="block font-semibold mb-1">Seat Class:</label>
            <select name="seat_class" class="w-full border border-gray-300 rounded px-3 py-2">
                <option value="">Optional</option>
                {% for seat in seat_classes %}
                <option value="{{ seat.id }}">{{ seat.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Add-On Type Selection with Inline Add -->
        <div class="flex items-center justify-between">
            <div class="w-2/3">
                <label class="block font-semibold mb-1">Add-On Type:</label>
                <select name="type" class="w-full border border-gray-300 rounded px-3 py-2">
                    <option value="">Select Type</option>
                    {% for t in addon_types %}
                    <option value="{{ t.id }}">{{ t.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="w-1/3 pl-2">
                <!-- Inline form to add new type -->
                <label class="block font-semibold mb-1">&nbsp;</label>
                <a href="{% url 'add_addon_type' %}" class="w-full inline-block bg-blue-600 hover:bg-blue-700 text-white text-center py-2 px-2 rounded text-sm">
                    + Add Type
                </a>
            </div>
        </div>

        <!-- Add-On Name -->
        <div>
            <label class="block font-semibold mb-1">Name:</label>
            <input type="text" name="name" class="w-full border border-gray-300 rounded px-3 py-2" required>
        </div>

        <!-- Add-On Description -->
        <div>
            <label class="block font-semibold mb-1">Description:</label>
            <textarea name="description" class="w-full border border-gray-300 rounded px-3 py-2" rows="3"></textarea>
        </div>

        <!-- Add-On Price -->
        <div>
            <label class="block font-semibold mb-1">Price (â‚±):</label>
            <input type="number" step="0.01" name="price" class="w-full border border-gray-300 rounded px-3 py-2" required>
        </div>

        <!-- Included Checkbox -->
        <div class="flex items-center space-x-2">
            <input type="checkbox" name="included" id="included" class="w-4 h-4">
            <label for="included" class="font-semibold">Automatically included with seat class?</label>
        </div>

        <!-- Buttons -->
        <div class="flex items-center justify-between mt-6">
            <button type="submit" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded">Add Add-On</button>
            <a href="{% url 'addon' %}" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
